<nav class="topnavbar d-flex align-items-center justify-content-between p_40">
    <div class="d-flex align-items-center">
        <a routerLink="/verify" class="back_arrow mx_20 "><img
                src="assets/images/svg_img/back_arrow.svg" class="img-fluid"></a>
        <h4 class="primary mb-0 fs-26 fw-600">Request Details</h4>
    </div>
    <app-profile-bar></app-profile-bar>
</nav>
<div class="main_content p_36" *ngIf="verificationReqDetail">
    <div class="container">
        <div class="row mb_20" >
            <div class="col-md-4">
                <div class="Address_Details h-100">
                    <h3 class="fs-18 fw-500 primary">User Details</h3>
                    <div class="mt_60 d-flex justify-content-center align-items-center flex-column" *ngIf="verificationReqDetail.requestorData">
                        <img [src]="verificationReqDetail.requestorData.profilePic" class="modal_profile mb_20">
                        <h3 class="fs-16 fw-600 text_small mb-1">{{verificationReqDetail.requestorData.firstName + ' ' + verificationReqDetail.requestorData.lastName}}</h3>
                        <h4 class="fs-14 fw-500 black mb-1">NIN - <span class="info">{{verificationReqDetail.requestorData.ninNumber}}</span>
                        </h4>
                        <div class="d-flex align-items-center mb-4">
                            <i class="fi fi-rr-calendar mx-1 ms-0 black"></i>
                            <h4 class="fs-14 fw-500 black mb-0">Date <span class="info">{{verificationReqDetail.date | date:'d/M/yyyy'}}</span>
                            </h4>
                        </div>
                        <button  class="request_btn fs-14 fw-500" [ngClass]="status.Pending === verificationReqDetail.verificationStatus? 'pending_btn ': status.Verified === verificationReqDetail.verificationStatus ? 'verify_btn':'rejected_btn'">{{verificationReqDetail.verificationStatus}}</button>
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <div class="Address_Details" *ngIf="verificationReqDetail.addressData">
                    <div class="d-flex justify-content-between align-items-center mb_20">
                        <h4 class="fs-18 f-500 primary">Address Details</h4>
                        <div class="d-flex">
                            <button
                                class="btn_secondary primary fs-14 fw-500 d-flex align-items-center p_13"   data-bs-target="#routeVideo" data-bs-toggle="modal"><i
                                    class="fi fi-rr-play-alt mx-1 ms-0 lh-0"></i>Route Video</button>
                            <button
                                class="btn_primary ms_12 fs-14 fw-500 white d-flex align-items-center p_26"  data-bs-target="#voiceVideo" data-bs-toggle="modal"><i
                                    class="fi fi-tr-circle-microphone mx-1 ms-0 lh-0"></i>Voice
                                Directions</button>
                        </div>
                    </div>
                    <div class="mb_20" >
                        <h4 class="text_small fs-15 fw-600 ">{{verificationReqDetail.addressData.blockCode}}</h4>
                        <h5 class="warrning fs-13 fw-500">{{verificationReqDetail.addressData.address}}</h5>
                    </div>
                    <div class="address_card mb_20">
                        <div class="details">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4 class="fs-13 fw-500 info mb-1">ZipCode</h4>
                                    <h5 class="text_small  fs-15 fw-500 mb-0">{{verificationReqDetail.addressData.zipCode}}</h5>
                                </div>
                                <div class="col-md-6">
                                    <h4 class="fs-13 fw-500 info mb-1">Address Type</h4>
                                    <div class="d-flex align-items-center">
                                        <img  [src]="verificationReqDetail.addressData.addressTypeImage"
                                            class="mx-1 ms-0 img-invert">
                                        <h5 class="text_small  fs-15 fw-500 mb-0">{{verificationReqDetail.addressData.addressType}}</h5>
                        
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="details2">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4 class="fs-13 fw-500 info mb-1">Landmark</h4>
                                    <h5 class="text_small  fs-15 fw-500 mb-0">{{verificationReqDetail.addressData.landmark}}</h5>
                                </div>
                                <div class="col-md-6">
                                    <h4 class="fs-13 fw-500 info mb-1">AIG Code</h4>
                                    <h5 class="text_small  fs-15 fw-500 mb-0">{{verificationReqDetail.addressData.aigCode}} </h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="address mb_20">
                        <img [src]="img.image" *ngFor="let img of verificationReqDetail.addressData.propertyPhotos">
                    </div>
                    <a [routerLink]="'/verify/assign-officer/'+verificationReqDetail.verificationOfficerId+'/'+verificationReqDetail.uuid" *ngIf="status.Pending === verificationReqDetail.verificationStatus" class="btn_primary btn fs-16 fw-600 w-100 m-0 br_12"><img
                            src="assets/images/svg_img/assign.svg" class="mx-2 ms-0">Re-Assign Officer</a>
                </div>
            </div>

        </div>
        <div class="Address_Details mb_20" >
            <h5 class="fs-18 fw-500 secondary mb-3">Verification Details</h5>
            <div class="row">
                <div class="col-md-4" *ngIf="verificationReqDetail.requestorData">
                    <img [src]="verificationReqDetail.requestorData.propertyImage" class="verification_image mb_10">
                    <h4 class="text-center fs-15 fw-500 grey mb-0">Property</h4>
                </div>
                <div class="col-md-4" *ngIf="verificationReqDetail.requestorData">
                    <img [src]="verificationReqDetail.requestorData.requestorImage" class="verification_image mb_10">
                    <h4 class="text-center fs-15 fw-500 grey mb-0">Requestor</h4>
                </div>
                <div class="col-md-4">
                    <!-- <img src="assets/images/temp_img/verification-3.png" class="verification_image mb_10"> -->
                    <div id="map" class="verification_image mb_10"></div>
                    <h4 class="text-center fs-15 fw-500 grey mb-0">Location map</h4>
                </div>
            </div>
        </div>
        <div class="Address_Details" *ngIf="status.Verified===verificationReqDetail.verificationStatus">
            <h5 class="fs-18 fw-500 secondary mb_10">Verification Summary</h5>
            <div class="Verification_Summary">
                <h4 class="mb-1 fs-15 fw-50 text_small">Comment</h4>
                <h5 class="fs-13 fw-500 grey mb-0">{{verificationReqDetail.summary.comment}} </h5>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <img [src]="verificationReqDetail.summary.propertyImage" class="verification_image mb_10">
                    <h4 class="text-center fs-15 fw-500 grey mb-0">Property</h4>
                </div>
                <div class="col-md-4">
                    <img [src]="verificationReqDetail.summary.requestorImage" class="verification_image mb_10">
                    <h4 class="text-center fs-15 fw-500 grey mb-0">Owner</h4>
                </div>
                <div class="col-md-4">
                    <img [src]="verificationReqDetail.summary.govtIdImage" class="verification_image mb_10">
                    <h4 class="text-center fs-15 fw-500 grey mb-0">Gov id</h4>
                    
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Voice Directions MODAL -->
<div class="modal fade" id="voiceVideo" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered  request_details">
        <div class="modal-content">
            <div class="modal-header p-0 mb_36">
                <div>
                    <h1 class="fs-28 fw-600 dark mb_10" id="exampleModalToggleLabel2">Voice Directions</h1>
                    <h3 class="fs-17 fw-500 info mb-0">Your Guiding Voice for Effortless Navigation</h3>
                </div>
                <button type="button" class="btn_close fs-20" data-bs-dismiss="modal" aria-label="Close">
                    <i class="fi fi-rr-cross-small lh-0"></i>
                </button>
            </div>
            <div class="modal-body p-0" *ngIf="verificationReqDetail.addressData">
                <div class="table-pagination page-nav empty" *ngIf="verificationReqDetail.addressData.voiceDirections.length==0">  <h4 class="primary mb-0 fs-26 fw-600">No Voice Directions </h4></div>
                <div class="col-md-12 voice_card mb_16" *ngFor="let voiceDirection of verificationReqDetail.addressData.voiceDirections">
                    <div class="gap_10 d-flex align-items-center mb_12">
                        <div class="videos_icon" data-bs-target="#showPlayer" (click)="togglePasswordVisibility(voiceDirection.id)">
                            <a  target="_blank"><i class="fi fi-rr-play-alt white"></i></a>
                        </div>
                        <div>
                            <h3 class="fs-13 fw-500 info mb-1">Duration</h3>
                            <h4 class="fs-15 fw-500 text_small mb-0">{{voiceDirection.duration}}</h4>
                        </div>
                        <div class="delete_icon d-flex justify-content-center align-items-center ms-auto mx-0 "
                            data-bs-target="#delete-modal" data-bs-toggle="modal" (click)="deleteVoiceDirectionId=voiceDirection.uuid">
                            <img src="assets/images/svg_img/delete.svg" height="16" width="16">
                        </div>
                    </div>
                    <div class="d-flex justify-content-between">
                        <div>
                            <h3 class="fs-13 fw-500 info mb-1">Start Point</h3>
                            <h4 class="fs-15 fw-500 text_small mb-0">{{voiceDirection.startPoint}}</h4>
                        </div>
     
                        <audio  *ngIf="isPasswordVisible(voiceDirection.id)" controls><source [src]="voiceDirection.audio" type="audio/mpeg" /></audio> 
                    </div>
                </div>          
            </div>
        </div>
    </div>
</div>
<!-- Voice Directions MODAL -->

  <!-- route Directions MODAL -->
  <div class="modal fade" id="routeVideo" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered  request_details">
        <div class="modal-content" *ngIf="verificationReqDetail.addressData">
            <div class="modal-header p-0 mb_36">
                <div>
                    <h1 class="fs-28 fw-600 dark mb_10" id="exampleModalToggleLabel2">Route Video </h1>
                    <h3 class="fs-17 fw-500 info mb-0">Visual Guides for Your Journey</h3>
                </div>
                <button type="button" class="btn_close fs-20" data-bs-dismiss="modal" aria-label="Close">
                    <i class="fi fi-rr-cross-small lh-0"></i>
                </button>
            </div>
            <div class="modal-body p-0">
                <div class="table-pagination page-nav empty" *ngIf="verificationReqDetail.addressData.routeVideo.length==0">  <h4 class="primary mb-0 fs-26 fw-600">No Route Video </h4></div>
                <div class="col-md-12 voice_card mb_16" *ngFor="let routeVideo of verificationReqDetail.addressData.routeVideo">
                    <div class="gap_10 d-flex align-items-center mb_12">
              
                        <div class="videos_icon">
                            <a [href]="routeVideo.video" target="_blank"><i class="fi fi-rr-play-alt white"></i></a>
                        </div>
                        <div>
                            <h3 class="fs-13 fw-500 info mb-1">Duration</h3>
                            <h4 class="fs-15 fw-500 text_small mb-0">{{routeVideo.duration}}</h4>
                        </div>
                        <div class="delete_icon d-flex justify-content-center align-items-center ms-auto mx-0 "
                            data-bs-target="#delete-route-modal" data-bs-toggle="modal" (click)="deleteVoiceDirectionId=routeVideo.uuid">
                            <img src="assets/images/svg_img/delete.svg" height="16" width="16" >
                        </div>
                    </div>
                    <div>
                        <h3 class="fs-13 fw-500 info mb-1">Start Point</h3>
                        <h4 class="fs-15 fw-500 text_small mb-0">{{routeVideo.startPoint}}</h4>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- route Directions MODAL -->


<!-- DELETE MODAL -->
<div class="modal fade" id="delete-modal" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2"
tabindex="-1">
<div class="modal-dialog modal-dialog-centered ">
    <div class="modal-content">
        <div class="modal-header p-0 justify-content-center">
            <div class="mb-4">
                <div class="d-flex justify-content-center mb-4">
                    <img class="assign_icon" src="assets/images/svg_img/delete.svg" height="80" width="80">
                </div>
                <h1 class="fs-22 fw-600 text_small mb_12 text-center" id="exampleModalToggleLabel2">Delete
                    Voice Direction</h1>
                <h3 class="fs-16 fw-400 info mb-0 mb-4 text-center">Are you sure you want to delete this
                 Voice Direction? This action is irreversible.</h3>
            </div>
        </div>

        <div class="modal-footer p-0 justify-content-center">
            <div class="gap_20 d-flex">
                <button class="btn_lg2 fs-16 fw-500 br_12" id="delete-close" data-bs-dismiss="modal"
                    aria-label="Close" (click)="clearData()"  >Cancel</button>
                <button class="btn_lg fs-16 fw-500 br_12" data-bs-dismiss="modal"  (click)="deleteVoiceDirection()">Delete</button>
            </div>
        </div>
    </div>
</div>
</div>
<!-- DELETE MODAL END -->


<!-- DELETE MODAL -->
<div class="modal fade" id="delete-route-modal" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2"
tabindex="-1">
<div class="modal-dialog modal-dialog-centered ">
    <div class="modal-content">
        <div class="modal-header p-0 justify-content-center">
            <div class="mb-4">
                <div class="d-flex justify-content-center mb-4">
                    <img class="assign_icon" src="assets/images/svg_img/delete.svg" height="80" width="80">
                </div>
                <h1 class="fs-22 fw-600 text_small mb_12 text-center" id="exampleModalToggleLabel2">Delete
                    Route Video</h1>
                <h3 class="fs-16 fw-400 info mb-0 mb-4 text-center">Are you sure you want to delete this
                   Route Video? This action is irreversible.</h3>
            </div>
        </div>

        <div class="modal-footer p-0 justify-content-center">
            <div class="gap_20 d-flex">
                <button class="btn_lg2 fs-16 fw-500 br_12" id="delete-close" data-bs-dismiss="modal"
                    aria-label="Close" (click)="clearData()"  >Cancel</button>
                <button class="btn_lg fs-16 fw-500 br_12" data-bs-dismiss="modal"  (click)="deleteRouteVideo()">Delete</button>
            </div>
        </div>
    </div>
</div>
</div>
<!-- DELETE MODAL END -->
